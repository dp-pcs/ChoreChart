"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{285:(e,t,r)=>{r.d(t,{$:()=>d});var s=r(5155),a=r(2115),n=r(4624),i=r(2085),o=r(9434);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},2523:(e,t,r)=>{r.d(t,{p:()=>i});var s=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},6126:(e,t,r)=>{r.d(t,{E:()=>o});var s=r(5155);r(2115);var a=r(2085),n=r(9434);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},6511:(e,t,r)=>{r.d(t,{C:()=>d});var s=r(5155),a=r(2115),n=r(285),i=r(6695),o=r(2523),l=r(6126);function d(e){let{userId:t,userRole:r,userName:d,currentChores:c=[],weeklyEarnings:u=0,completionRate:f=0,onScheduleGenerated:m,onExportRequest:h}=e,[x,p]=(0,a.useState)([{id:"welcome",role:"assistant",content:"Hey ".concat(d,"! \uD83D\uDC4B I'm Chorbit, your AI chore assistant! I can help you plan your day, prioritize tasks, and make chores more manageable. What would you like to work on?"),timestamp:new Date,userId:t}]),[g,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),w=(0,a.useRef)(null),[j,N]=(0,a.useState)(null),C=()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)};(0,a.useEffect)(()=>{C()},[x]);let k=async()=>{if(!g.trim()||v)return;let e={id:"user-".concat(Date.now()),role:"user",content:g.trim(),timestamp:new Date,userId:t},s=g.trim();p(t=>[...t,e]),b(""),y(!0);try{let e=await fetch("/api/chorbit/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s,userId:t,conversationHistory:x,userContext:{userRole:r,userName:d,currentChores:c,weeklyEarnings:u,completionRate:f}})});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let a=await e.json();if(a&&a.content)a.timestamp=new Date(a.timestamp||Date.now()),p(e=>[...e,a]),(s.toLowerCase().includes("schedule")||s.toLowerCase().includes("plan"))&&await D(s);else throw Error("Invalid response from Chorbit")}catch(r){console.error("Chat error:",r);let e={id:"error-".concat(Date.now()),role:"assistant",content:"I'm having some technical difficulties right now, but I'm still here to help! Could you try asking me that again? \uD83E\uDD16",timestamp:new Date,userId:t};p(t=>[...t,e])}finally{y(!1)}},D=async e=>{try{let t=await fetch("/api/chorbit/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:e,availableTime:120,currentChores:c,userPreferences:{energyLevels:"morning",difficulty:"mixed"}})});if(!t.ok)throw Error("Failed to generate schedule");let r=await t.json();N(r),null==m||m(r)}catch(e){console.error("Schedule generation error:",e)}};return(0,s.jsxs)(i.Zp,{className:"h-[600px] flex flex-col",children:[(0,s.jsx)(i.aR,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-t-lg flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD16"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ZB,{className:"text-xl",children:"Chorbit AI"}),(0,s.jsx)(i.BT,{className:"text-purple-100",children:"Your friendly chore assistant"})]}),(0,s.jsx)(l.E,{variant:"secondary",className:"ml-auto",children:"CHILD"===r?"Kid Mode":"Parent Mode"})]})}),(0,s.jsx)(i.Wu,{className:"flex-1 p-0 overflow-hidden",children:(0,s.jsx)("div",{className:"h-full max-h-[350px] overflow-y-auto p-4",ref:w,style:{scrollBehavior:"smooth"},children:(0,s.jsxs)("div",{className:"space-y-4",children:[x.map(e=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] p-3 rounded-lg ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"),children:[(0,s.jsx)("p",{className:"text-sm",children:e.content}),(0,s.jsx)("p",{className:"text-xs opacity-70 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)),v&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Chorbit is thinking... \uD83E\uDD14"})})})]})})}),j&&(0,s.jsx)("div",{className:"px-4 py-2 bg-green-50 border-t flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-green-800",children:["\uD83D\uDCC5 ",j.title]}),(0,s.jsxs)("p",{className:"text-xs text-green-600",children:[j.tasks.length," tasks â€¢ ",j.totalTime," minutes"]})]}),(0,s.jsx)(n.$,{size:"sm",onClick:()=>{j&&(null==h||h(j))},className:"bg-green-600 hover:bg-green-700",children:"Export to iPhone"})]})}),(0,s.jsx)(i.wL,{className:"p-4 border-t flex-shrink-0",children:(0,s.jsxs)("div",{className:"w-full space-y-3",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["Help me plan my morning","What should I do first?","I'm feeling overwhelmed","Make chores more fun","How do I stay motivated?"].map(e=>(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>b(e),className:"text-xs",children:e},e))}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(o.p,{value:g,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())},placeholder:"Ask Chorbit anything about chores, schedules, or time management...",disabled:v,className:"flex-1"}),(0,s.jsx)(n.$,{onClick:k,disabled:!g.trim()||v,className:"bg-purple-500 hover:bg-purple-600",children:"Send"})]})]})})]})}},6695:(e,t,r)=>{r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var s=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},9434:(e,t,r)=>{r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}}]);